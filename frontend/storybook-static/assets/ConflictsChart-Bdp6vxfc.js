import{j as e}from"./jsx-runtime-D_zvdyIk.js";import"./index-DQLiH3RP.js";import{R as i,B as n,X as c,Y as d,T as f,L as u,a as m}from"./BarChart-o9b-OQvE.js";function p(l){const s=[];for(const a of l)for(const t of a.weeklyConflicts)s.push({resourceName:a.resourceName,week:t.weekStarting,overAllocation:t.overAllocation});return s}const x=({conflicts:l,height:s=280,loading:a=!1,error:t=null,emptyMessage:o="No conflicts to display."})=>{if(a)return e.jsx("div",{className:"w-full flex items-center justify-center py-12","data-testid":"conflicts-chart-loading",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});if(t)return e.jsx("div",{className:"w-full","data-testid":"conflicts-chart-error",children:e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 text-sm text-red-700",children:t})});const r=p(l);return!r||r.length===0?e.jsx("div",{className:"w-full text-center py-8 text-sm text-gray-500","data-testid":"conflicts-chart-empty",children:o}):e.jsx("div",{className:"w-full","data-testid":"conflicts-chart",children:e.jsx(i,{width:"100%",height:s,children:e.jsxs(n,{data:r,margin:{top:16,right:24,left:8,bottom:8},children:[e.jsx(c,{dataKey:"resourceName",tick:{fontSize:12}}),e.jsx(d,{tick:{fontSize:12},label:{value:"Over-Allocation (days)",angle:-90,position:"insideLeft"}}),e.jsx(f,{}),e.jsx(u,{}),e.jsx(m,{dataKey:"overAllocation",name:"Over-Allocation",fill:"#ef4444"})]})})})};x.__docgenInfo={description:"",methods:[],displayName:"ConflictsChart",props:{conflicts:{required:!0,tsType:{name:"Array",elements:[{name:"AllocationConflictResponse"}],raw:"AllocationConflictResponse[]"},description:""},height:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"280",computed:!1}},loading:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},error:{required:!1,tsType:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]},description:"",defaultValue:{value:"null",computed:!1}},emptyMessage:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'No conflicts to display.'",computed:!1}}}};export{x as C};
